version: v2
managed:
  enabled: true
plugins:
  # ===== Rust =====
  # Rust - prost for message types
  - remote: buf.build/community/neoeinstein-prost:v0.5.0
    out: ../../libs/rpc/src/generated
  # Rust - tonic for gRPC client/server
  - remote: buf.build/community/neoeinstein-tonic:v0.5.0
    out: ../../libs/rpc/src/generated

  # ===== TypeScript =====
  # protobuf-es v2: Message types + service stubs (connect-es merged into es)
#  - remote: buf.build/bufbuild/es:v2.10.2
#    out: ../../libs/rpc/types
#    opt:
#      - target=ts
# outputs currently to rpc/types/apps/v1/rpc-file.ts
inputs:
  - directory: proto
