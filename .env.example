# Environment Variables Template
# Copy this file to .env and fill in your actual values
#
# Usage:
#   cp .env.example .env
#   # Edit .env with your actual values
#   direnv allow  # If using direnv

# Database Configuration
DATABASE_URL=postgres://username:password@localhost/database_name

# Database Connection Pool Settings (Production Optimized)
# These values prevent socket timeouts and improve performance under high load

# Maximum number of connections in the pool (default: 100)
# Increase for high-traffic applications
DB_MAX_CONNECTIONS=150

# Minimum number of connections to maintain (default: 5)
# Higher values reduce connection startup latency
DB_MIN_CONNECTIONS=20

# How long to wait when connecting to database in seconds (default: 8)
DB_CONNECT_TIMEOUT_SECS=8

# How long to wait to acquire a connection from pool in seconds (default: 8)
# Increase if you see "timeout acquiring connection" errors
DB_ACQUIRE_TIMEOUT_SECS=10

# How long idle connections stay in pool before being closed in seconds (default: 8)
# Production: 600 (10 minutes) prevents excessive connection churn
DB_IDLE_TIMEOUT_SECS=600

# Maximum lifetime of a connection before forced recreation in seconds (default: 8)
# Production: 1800 (30 minutes) prevents stale connections while reducing overhead
DB_MAX_LIFETIME_SECS=1800

# Enable SQL query logging (default: true)
# Set to false in production for better performance
DB_SQLX_LOGGING=false

# CORS Configuration (Required)
# Comma-separated list of allowed origins for API access
# Development example:
CORS_ALLOWED_ORIGIN=http://localhost:3000,http://127.0.0.1:3000
# Production example:
# CORS_ALLOWED_ORIGIN=https://example.com,https://app.example.com
# Mixed (local dev + staging):
# CORS_ALLOWED_ORIGIN=http://localhost:3000,https://staging.example.com

