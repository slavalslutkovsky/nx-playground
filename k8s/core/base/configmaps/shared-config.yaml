apiVersion: v1
kind: ConfigMap
metadata:
  name: zerg-shared-config
  namespace: zerg
data:
  # Database connection pooling defaults
  DB_MAX_CONNECTIONS: "10"
  DB_MIN_CONNECTIONS: "2"
  DB_ACQUIRE_TIMEOUT_SECS: "5"
  DB_IDLE_TIMEOUT_SECS: "300"
  DB_MAX_LIFETIME_SECS: "1800"
  DB_SQLX_LOGGING: "false"

  # Internal service URLs
  POSTGRES_HOST: "postgres.dbs.svc.cluster.local"
  POSTGRES_PORT: "5432"
  REDIS_HOST: "redis://redis.dbs.svc.cluster.local"
  NATS_URL: "nats://nats.dbs.svc.cluster.local:4222"

  # Feature flags service
  FLAGSMITH_API_URL: "http://flagsmith-api.flagsmith.svc.cluster.local:8000/api/v1"

  # Service discovery
  TASKS_SERVICE_ADDR: "http://zerg-tasks.zerg.svc.cluster.local:50051"
  API_SERVICE_ADDR: "http://zerg-api.zerg.svc.cluster.local:8080"
